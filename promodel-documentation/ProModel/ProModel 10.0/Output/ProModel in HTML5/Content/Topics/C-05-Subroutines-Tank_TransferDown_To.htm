<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="C-01-WelcometoProModel.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="webhelp" data-mc-toc-path="Building the Model: Advanced Elements|Pre-defined Tank Subroutines">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Tank_TransferDownTo</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/Promodel.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../C-01-WelcometoProModel.htm#Topics/C-05-Subroutines-Tank_TransferDown_To.htm">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="C-06-BuildingtheModelAdvanced.htm#C-06_1157716610_1035124">Building the Model: Advanced Elements</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="C-05-Pre-definedTankSubroutines.htm">Pre-defined Tank Subroutines</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Tank_TransferDownTo</span>
        </div>
        <h3 class="tanks"><a name="C-05_2723800551_1089084"></a><a name="kanchor1281"></a><a name="C-05_2723800551_35265"></a>Tank_TransferDownTo</h3>
        <h4 class="_rules_statements">Syntax samples</h4>
        <p class="Syntax_body">TANK_TRANSFERDOWNTO (&lt;FROM Tank ID&gt;, &lt;TO Tank ID&gt;, &lt;TO Level &gt;, &lt;FROM Rate&gt;, &lt;TO Rate&gt;)</p>
        <p class="Syntax_body">TANK_TRANSFERDOWNTO (Tank1, Tank2, 1000, 80, 0) </p>
        <h5 class="_rules_statements">Description</h5>
        <p class="p">Similar to Tank_Transfer except that Tank_TransferDownTo terminates the transfer when the FROM tank level lowers to a designated level instead of lowering by a specific quantity. If the TO tank becomes full, <MadCap:conditionalText data-mc-conditions="PM-MM Conditionals.ProModel">ProModel</MadCap:conditionalText> suspends the transfer until capacity becomes available.</p>
        <p class="p">Use Tank_TransferDownTo when you want to lower the level of a tank to a specific value but you are not certain how much to empty in order to drop to that level (e.g., the tank may fill at the same time it empties).</p>
        <h4 class="_rules_statements">Components</h4>
        <p class="Component">&lt;FROM Tank ID&gt;</p>
        <p class="p">The name or location index number of the FROM tank. </p>
        <p class="Component">&lt;TO Tank ID&gt;</p>
        <p class="p">The name or location index number of the TO tank.</p>
        <p class="Component">&lt;TO Level&gt;</p>
        <p class="p">Transfer until the FROM tank drops to this level.</p>
        <p class="Component">&lt;FROM Rate&gt;</p>
        <p class="p">The rate in units (gallons, pounds) per time unit defined in the General Information dialog out of the FROM tank. To use a dynamically calculated rate in the Tank_Rate subroutine, enter 0.</p>
        <p class="Component">&lt;TO Rate&gt;</p>
        <p class="p">The rate in units (gallons, pounds) per time unit defined in the General Information dialog into the TO tank. Use 0 if the TO rate is the same as the FROM rate.</p>
        <h4 class="_rules_statements">Example</h4>
        <p class="p">An in-process tank, TankA, supplies TankB at a rate of 50 gpm. TankA must maintain a minimum level of 200 gallons to insure against pump cavitation. When TankA’s level drops to 200 gallons, the tank stops pumping to TankB until the level of TankA rises above 200 gallons. To model this scenario, enter the following logic in the subroutine controlling the flow from TankA to TankB:</p>
        <p class="Syntax_body">Tank_Loop //logic repeats continuously</p>
        <p class="Syntax_body">{</p>
        <p class="syntax_body_indent">Wait Until Tank_Level[TankA]&gt;200</p>
        <p class="syntax_body_indent">Tank_TransferDownTo(TankA, TankB, 200, 50, 0)</p>
        <p class="Syntax_body">	}</p>
        <p class="_rules">See Also</p>
        <p class="p"><a class="lowercase_no_see MCXref xref xreflowercase_no_see" href="C-05-Subroutines-ExamplesofTankLogic.htm#C-05_2723800551_1089813" title="" alt="">Split Transfers</a>.</p>
        <hr width="100%" size="0" align="center" />
        <table style="border-spacing: 2px 2px;border-collapse: collapse;border-left-style: solid;border-left-width: 0px;border-left-color: #ffffff;border-right-style: solid;border-right-width: 0px;border-right-color: #ffffff;border-top-style: solid;border-top-width: 4px;border-top-color: #ffffff;border-bottom-style: solid;border-bottom-width: 4px;border-bottom-color: #ffffff;margin-left: 0;margin-right: auto;">
            <col />
            <col />
            <tbody>
                <tr>
                    <td class="td_1">&#160;</td>
                    <td class="td_1">
                        <p> © 2019 ProModel Corporation • 705 E Timpanogos Parkway • Orem, UT 84097 • Support: 888-776-6633 • <a href="http://www.promodel.com/">www.promodel.com</a></p>
                        <p><a href="http://www.promodel.com/"><img src="../Resources/Images/bluedocfeedbackbutton.gif" class="img_1" style="max-width: 6in;" />&#160;</a><a href="http://www.promodel.com/">&#160;</a><a href="http://www.promodel.com/"><a href="http://freeonlinesurveys.com/app/rendersurvey.asp?sid=1z9zba53tk5ujp4118915&amp;refer=www%2Epromodel%2Ecom" target="_blank"></a></a>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>